<?xml version="1.0" encoding="ISO-8859-1" ?>

<!DOCTYPE tiles-definitions PUBLIC
    "-//Apache Software Foundation//DTD Tiles Configuration 2.0//EN"
    "http://tiles.apache.org/dtds/tiles-config_2_0.dtd">

<tiles-definitions>

    <!--
    Basic page layout definition.  Note that instead of specifying
    the actual names of the pages to be included, or the
    language-specific values for string literals such as title,
    we're supplying keys.  Our pages cash out the locale-specific
    values for these items from our resource bundle at runtime.

    An alternative approach would be to maintain localized versions
    of the tiles-defs.xml file, i.e. tiles-defs_en.xml and tiles-defs_fr.xml.
    The down side to the approach is that we'd be maintaining i18n
    text in two places:  here as well as in the resourcebundles.
    -->
    <definition name=".clf" template="/pub/layout/clfLayout.jsp">
        <put-attribute name="crrntPg"          value=".clf" />
        <put-attribute name="titleKey"         value="title" />
        <put-attribute name="breadcrumbKey"    value="breadcrumb" />
        <put-attribute name="header"           value="/pub/layout/CraHeadMain-e.jsp" />
        <put-attribute name="menu"             value="/pub/layout/sidemenu.jsp" />
        <put-attribute name="date"             value="/pub/layout/dateModified-e.jsp" />
        <put-attribute name="sessionTimeout"   value="/pub/errors/sessionTimeout.jsp" />
        <!--
        The assumption here is that our own pages are localized internally,
        i.e. that any string literals they contain are extracted from
        the resourcebundle.  If you really wanted to maintain separate english
        and french versions of the body content, you could simply repeat
        what we've done with the clf header/footer stuff.
        -->
        <put-attribute name="body"  value="" />
        <put-attribute name="footer"        value="/pub/layout/CraFootMain-e.jsp" />
    </definition>

    <definition name=".clf.ntr" extends=".clf">
        <put-attribute name="crrntPg"  value=".clf.ntr" />
        <put-attribute name="titleKey"  value="entryForm.title" />
        <put-attribute name="body" value="/pub/entryForm.jsp" />
    </definition>

    <definition name=".clf.vw" extends=".clf">
        <put-attribute name="crrntPg"  value=".clf.vw" />
        <put-attribute name="titleKey"  value="viewPackageInfo.title" />
        <put-attribute name="body" value="/pub/viewPackageInfo.jsp" />
    </definition>

    <definition name=".clf.dlt" extends=".clf">
        <put-attribute name="crrntPg"  value=".clf.dlt" />
        <put-attribute name="titleKey"  value="deletePackageInfo.title" />
        <put-attribute name="body" value="/pub/deletePackageInfo.jsp" />
    </definition>
    
    <!-- 
    Under struts2 crrntPg sometimes needs to point to an actual Action
    rather than a tilesdef.  In this case, modifyEmployee.jsp won't render
    properly unless an EmployeeAction instance is on the ValueStack,
    so the language switch action has to re-execute the EmployeeAction.prompt()
    method.
    -->
    <definition name=".clf.mdfy" extends=".clf">
        <put-attribute name="crrntPg"  value="mdfy" />
        <put-attribute name="titleKey"  value="modifyPackageInfo.title" />
        <put-attribute name="body" value="/pub/addModifyPackageInfo.jsp" />
    </definition>

    <definition name=".clf.crt" extends=".clf">
        <put-attribute name="crrntPg"  value="crt" />
        <put-attribute name="titleKey"  value="addPackageInfo.title" />
        <put-attribute name="body" value="/pub/addModifyPackageInfo.jsp" />
    </definition>

    <definition name=".clf.lst" extends=".clf">
        <put-attribute name="crrntPg"  value="pg" />
        <put-attribute name="titleKey"  value="listPackageInfo.title" />
        <put-attribute name="body" value="/pub/packageInfoList.jsp" />
    </definition>

</tiles-definitions>